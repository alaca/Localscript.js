(function(a){'use strict';const b=a.document,c=a.localStorage||!1,f=b.currentScript||b.querySelector('script[data-expire]'),g=h=>{let j=[];return h.forEach(k=>{let l=new Promise((m,n)=>{if(!k.url)return m(k.code);let o=c?c.getItem(k.url):null;if(null===o){let p=new XMLHttpRequest;p.open('get',k.url),p.onload=function(){if(200==p.status){if(c)try{c.setItem(k.url,JSON.stringify(p.response))}catch(q){c.clear()}return m(p.response)}return n(new Error(p.responseURL+' '+p.statusText))},setTimeout(()=>{if(4>p.readyState)return p.abort(),n(new Error(k.url+' timeout'))},1e4),p.send()}else return m(JSON.parse(o))});j.push(l)}),Promise.all(j)};b.addEventListener('DOMContentLoaded',function(){let h=[],j=b.getElementsByTagName('script');if(c){const k=Math.floor(new Date().getTime()/1e3),l=c.getItem('ls-expire'),m=f.getAttribute('data-expire')||3600;(null===l||k>l)&&(c.clear(),c.setItem('ls-expire',parseInt(k)+parseInt(m)))}for(let k in j)'text/localscript'==j[k].type&&h.push({url:j[k].getAttribute('data-src')||!1,code:j[k].innerHTML||null});g(h).then(k=>{for(let l in k)try{(0,eval)(k[l])}catch(m){console.log(m.name,m.message)}}).catch(k=>{console.log(k)})},!1)})(this);